import{c as a}from"./app.7138fe66.js";import{_ as n}from"./plugin-vue_export-helper.5a098b48.js";var s="/assets/1704037-20230308152424889-424611962.daa52b9c.png";const t={},p=a(`<h2 id="\u4ECB\u7ECD-what-why-how" tabindex="-1"><a class="header-anchor" href="#\u4ECB\u7ECD-what-why-how" aria-hidden="true">#</a> \u4ECB\u7ECD\uFF08What\uFF1FWhy\uFF1FHow\uFF1F\uFF09</h2><h3 id="what" tabindex="-1"><a class="header-anchor" href="#what" aria-hidden="true">#</a> What?</h3><blockquote><p>MapStruct is a code generator that greatly simplifies the implementation of mappings between Java bean types based on a convention over configuration approach. The generated mapping code uses plain method invocations and thus is fast, type-safe and easy to understand.</p></blockquote><p>MapStruct\u662F\u4E00\u4E2A\u4EE3\u7801\u751F\u6210\u5668\uFF0C\u5B83\u6781\u5927\u5730\u7B80\u5316\u4E86Javabean\u7C7B\u578B\u4E4B\u95F4\u7684\u6620\u5C04\u7684\u5B9E\u73B0\uFF0C\u8FD9\u662F\u4E00\u79CD\u57FA\u4E8E\u7EA6\u5B9A\u800C\u975E\u914D\u7F6E\u7684\u65B9\u6CD5\u3002\u751F\u6210\u7684\u6620\u5C04\u4EE3\u7801\u4F7F\u7528\u7B80\u5355\u7684\u65B9\u6CD5\u8C03\u7528\uFF0C\u56E0\u6B64\u5FEB\u901F\u3001\u7C7B\u578B\u5B89\u5168\u4E14\u6613\u4E8E\u7406\u89E3\u3002</p><h3 id="why" tabindex="-1"><a class="header-anchor" href="#why" aria-hidden="true">#</a> Why?</h3><blockquote><p>Multi-layered applications often require to map between different object models (e.g. entities and DTOs). Writing such mapping code is a tedious and error-prone task. MapStruct aims at simplifying this work by automating it as much as possible. In contrast to other mapping frameworks MapStruct generates bean mappings at compile-time which ensures a high performance, allows for fast developer feedback and thorough error checking.</p></blockquote><p>\u591A\u5C42\u5E94\u7528\u7A0B\u5E8F\u901A\u5E38\u9700\u8981\u5728\u4E0D\u540C\u7684\u5BF9\u8C61\u6A21\u578B\uFF08\u4F8B\u5982\u5B9E\u4F53\u548CDTO\uFF09\u4E4B\u95F4\u8FDB\u884C\u6620\u5C04\u3002\u7F16\u5199\u8FD9\u6837\u7684\u6620\u5C04\u4EE3\u7801\u662F\u4E00\u9879\u4E4F\u5473\u4E14\u5BB9\u6613\u51FA\u9519\u7684\u4EFB\u52A1\u3002MapStruct\u65E8\u5728\u901A\u8FC7\u5C3D\u53EF\u80FD\u81EA\u52A8\u5316\u6765\u7B80\u5316\u8FD9\u9879\u5DE5\u4F5C\u3002\u4E0E\u5176\u4ED6\u6620\u5C04\u6846\u67B6\u4E0D\u540C\uFF0C<strong>MapStruct\u5728\u7F16\u8BD1\u65F6\u751F\u6210bean\u6620\u5C04</strong>\uFF0C\u8FD9\u786E\u4FDD\u4E86\u9AD8\u6027\u80FD\uFF0C\u5141\u8BB8\u5FEB\u901F\u7684\u5F00\u53D1\u4EBA\u5458\u53CD\u9988\u548C\u5F7B\u5E95\u7684\u9519\u8BEF\u68C0\u67E5</p><h3 id="how" tabindex="-1"><a class="header-anchor" href="#how" aria-hidden="true">#</a> How?</h3><blockquote><p>MapStruct is an annotation processor which is plugged into the Java compiler and can be used in command-line builds (Maven, Gradle etc.) as well as from within your preferred IDE. MapStruct uses sensible defaults but steps out of your way when it comes to configuring or implementing special behavior.</p></blockquote><p>MapStruct\u662F\u4E00\u4E2A\u63D2\u5165Java\u7F16\u8BD1\u5668\u7684\u6CE8\u91CA\u5904\u7406\u5668\uFF0C\u53EF\u4EE5\u5728\u547D\u4EE4\u884C\u6784\u5EFA\uFF08Maven\u3001Gradle\u7B49\uFF09\u4E2D\u4F7F\u7528\uFF0C\u4E5F\u53EF\u4EE5\u5728\u60A8\u9996\u9009\u7684IDE\u4E2D\u4F7F\u7528\u3002MapStruct\u4F7F\u7528\u5408\u7406\u7684\u9ED8\u8BA4\u503C\uFF0C\u4F46\u5728\u914D\u7F6E\u6216\u5B9E\u73B0\u7279\u6B8A\u884C\u4E3A\u65F6\uFF0C\u5B83\u4F1A\u907F\u5F00\u60A8\u3002</p><p>\u603B\u7ED3\uFF0C\u7B80\u800C\u8A00\u4E4B\u5C31\u662F\u8FD9\u529F\u80FD\uFF0C<strong>Bean copy</strong>\uFF1A</p><div class="language-text ext-text"><pre class="language-text"><code>	BeanUtils.copyProperties(userDO,userDTO);
</code></pre></div><h2 id="\u600E\u4E48\u7528" tabindex="-1"><a class="header-anchor" href="#\u600E\u4E48\u7528" aria-hidden="true">#</a> \u600E\u4E48\u7528</h2><ol><li>\u5F15\u5165\u4F9D\u8D56</li></ol><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mapstruct<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mapstruct<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.2.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mapstruct<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mapstruct-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.2.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>User\u4E0EUserQueryParm</li></ol><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> sno<span class="token punctuation">;</span>
    <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token class-name">String</span> isDelete<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserQueryParam</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> sno<span class="token punctuation">;</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>\u7F16\u5199\u63A5\u53E3</li></ol><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserMapper</span> <span class="token constant">INSTANCE</span> <span class="token operator">=</span> <span class="token class-name">Mappers</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// User \u4E0E UserQueryParam \u5B57\u6BB5\u4E0D\u4E00\u81F4\u65F6\u6620\u5C04</span>
    <span class="token annotation punctuation">@Mapping</span><span class="token punctuation">(</span>source <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>target <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">UserQueryParam</span> <span class="token function">entity2queryParam</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>\u4F7F\u7528</li></ol><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapstructApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setSno</span><span class="token punctuation">(</span><span class="token string">&quot;20231212&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;xiaozhang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserQueryParam</span><span class="token punctuation">&gt;</span></span> collect <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token operator">::</span><span class="token function">entity2queryParam</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">UserQueryParam</span> userQueryParam <span class="token operator">:</span> collect<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toJsonStr</span><span class="token punctuation">(</span>userQueryParam<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//{&quot;sno&quot;:&quot;20231212&quot;,&quot;name&quot;:&quot;xiaozhang&quot;}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="\u7B54\u7591\u89E3\u60D1" tabindex="-1"><a class="header-anchor" href="#\u7B54\u7591\u89E3\u60D1" aria-hidden="true">#</a> \u7B54\u7591\u89E3\u60D1</h2><ol><li><p>\u4E3A\u4EC0\u4E48\u4E0D\u7528BeanUtils.copyProperties(userDO,userDTO)\uFF1F \u5F53\u8F6C\u6362\u7684\u5BF9\u8C61\u662F\u5217\u8868\u65F6\uFF0CMapperStruct\u7684\u4F18\u96C5\u624D\u5F97\u4EE5\u5C55\u73B0\u3002</p></li><li><p>MapStruct\u5728\u7F16\u8BD1\u65F6\u751F\u6210bean\u6620\u5C04\uFF1F <img src="`+s+'" alt="image"> \u7F16\u8BD1\u65F6\u4EA7\u751F\uFF0C\u5B89\u5168\u6027\u66F4\u9AD8\uFF0C\u7F16\u8BD1\u4E0D\u901A\u8FC7\uFF0C\u5219\u4F1A\u8FD0\u884C\u5931\u8D25\u3002</p></li><li><p>\u4F7F\u7528mapstruct.Mapper \u8F6C\u6362\u5BF9\u8C61\u5C5E\u6027\u4E3Anull \uFF1F lombok\u4F9D\u8D56\u548Cmapstruct\u4F9D\u8D56\u987A\u5E8F\u95EE\u9898\uFF0C\u5C06lombok\u653E\u524D\u8FB9\u3002 \u53C2\u8003\u94FE\u63A5\uFF1Ahttps://blog.csdn.net/qq_41169544/article/details/127675917</p></li></ol><h2 id="\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a> \u53C2\u8003</h2><p>\u5B98\u7F51\uFF1Ahttps://mapstruct.org/ ABin-\u963F\u658C\uFF1Ahttps://blog.csdn.net/Mango_Bin/article/details/125168370</p>',26);function e(o,c){return p}var i=n(t,[["render",e]]);export{i as default};
